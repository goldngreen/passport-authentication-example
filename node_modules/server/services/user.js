
const connect = require('../data').connect;
const metaUser = require('../data').metaUser;

function createUser(user) {
    metaUser.validate(user);
}

class UserService {
    constructor(database) {
        this.database = database;    
    }

    createUser(user) {
        metaUser.validate(user);
        return this.database.db.models.users.create(user);
    }

    findById(id) {
        console.log(`FindById(${id})`);
        return this.database.db.models.users.findByPk(id);
    }


/*  
function findById(id, next) {
    process.nextTick(() => {
      for (var i = 0, len = records.length; i < len; i++) {
        var record = records[i];
        if (record.id === id) {
          return next(null, record);
        }
      }
      next(new Error('User ' + id + ' does not exist'));
    });
  }
  */
}

module.exports = {
    UserService: UserService
};
