
if (process.env.GLITCH_ENV !== 'true') {
    require('dotenv').config();
}

const fetch = require('node-fetch');

class User {
    static instance = new User();
    src = process.env.TEST_DATA_SRC;
    srcKey = process.env.TEST_DATA_KEY;

    async sample() {
        const url = `${this.src}?key=${this.srcKey}&count=1`;
        const response = await fetch(url);
        return await response.json();
    }

    async samples(count) {
        const url = `${this.src}?key=${this.srcKey}&count=${count}`;
        const response = await fetch(url);
        return await response.json();
    }
}

module.exports = {
    user: User.instance
};
